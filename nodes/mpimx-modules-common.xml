<?xml version="1.0" standalone="no"?>

<kickstart>

<description>
MPI libraries for MX modules files
http://www.mcs.anl.gov/research/projects/mpi/mpich1
http://www.mcs.anl.gov/research/projects/mpich2
http://www.open-mpi.org
</description>

<copyright>
Copyright (c) 2000 - 2009 The Regents of the University of California.
All rights reserved. Rocks(r) v5.1 www.rocksclusters.org
</copyright>

<changelog>
</changelog>

<post>

# MPICH

/bin/mkdir -m 0755 -p /opt/modulefiles/mpi/.gnu/mpich_mx
/bin/mkdir -m 0755 -p /opt/modulefiles/mpi/.intel/mpich_mx
/bin/mkdir -m 0755 -p /opt/modulefiles/mpi/.pgi/mpich_mx

<file name="/opt/modulefiles/mpi/.gnu/mpich_mx/1.2.7" perms="0644">
#%Module1.0
module-whatis "mpich_mx mpi stack"
module-whatis "Version: 1.2.7"
set mpich_mxHome /opt/mpich_mx
prepend-path PATH $mpich_mxHome/gnu/bin
prepend-path LD_LIBRARY_PATH $mpich_mxHome/gnu/lib
</file>
<file name="/opt/modulefiles/mpi/.intel/mpich_mx/1.2.7" perms="0644">
#%Module1.0
module-whatis "mpich_mx mpi stack"
module-whatis "Version: 1.2.7"
set mpich_mxHome /opt/mpich_mx
prepend-path PATH $mpich_mxHome/intel/bin
prepend-path LD_LIBRARY_PATH $mpich_mxHome/intel/lib
</file>
<file name="/opt/modulefiles/mpi/.pgi/mpich_mx/1.2.7" perms="0644">
#%Module1.0
module-whatis "mpich_mx mpi stack"
module-whatis "Version: 1.2.7"
set mpich_mxHome /opt/mpich_mx
prepend-path PATH $mpich_mxHome/pgi/bin
prepend-path LD_LIBRARY_PATH $mpich_mxHome/pgi/lib
</file>

<file name="/opt/modulefiles/mpi/.gnu/mpich_mx/.version.1.2.7" perms="0644">
#%Module1.0
set ModulesVersion "1.2.7"
</file>
<file name="/opt/modulefiles/mpi/.intel/mpich_mx/.version.1.2.7" perms="0644">
#%Module1.0
set ModulesVersion "1.2.7"
</file>
<file name="/opt/modulefiles/mpi/.pgi/mpich_mx/.version.1.2.7" perms="0644">
#%Module1.0
set ModulesVersion "1.2.7"
</file>

/bin/ln -s /opt/modulefiles/mpi/.gnu/mpich_mx/.version.1.2.7 \
           /opt/modulefiles/mpi/.gnu/mpich_mx/.version
/bin/ln -s /opt/modulefiles/mpi/.intel/mpich_mx/.version.1.2.7 \
           /opt/modulefiles/mpi/.intel/mpich_mx/.version
/bin/ln -s /opt/modulefiles/mpi/.pgi/mpich_mx/.version.1.2.7 \
           /opt/modulefiles/mpi/.pgi/mpich_mx/.version

# MPICH2

/bin/mkdir -m 0755 -p /opt/modulefiles/mpi/.gnu/mpich2_mx
/bin/mkdir -m 0755 -p /opt/modulefiles/mpi/.intel/mpich2_mx
/bin/mkdir -m 0755 -p /opt/modulefiles/mpi/.pgi/mpich2_mx

<file name="/opt/modulefiles/mpi/.gnu/mpich2_mx/1.0.7" perms="0644">
#%Module1.0
module-whatis "mpich2_mx mpi stack"
module-whatis "Version: 1.0.7"
set mpich2_mxHome /opt/mpich2_mx
prepend-path PATH $mpich2_mxHome/gnu/bin
prepend-path LD_LIBRARY_PATH $mpich2_mxHome/gnu/lib
</file>
<file name="/opt/modulefiles/mpi/.intel/mpich2_mx/1.0.7" perms="0644">
#%Module1.0
module-whatis "mpich2_mx mpi stack"
module-whatis "Version: 1.0.7"
set mpich2_mxHome /opt/mpich2_mx
prepend-path PATH $mpich2_mxHome/intel/bin
prepend-path LD_LIBRARY_PATH $mpich2_mxHome/intel/lib
</file>
<file name="/opt/modulefiles/mpi/.pgi/mpich2_mx/1.0.7" perms="0644">
#%Module1.0
module-whatis "mpich2_mx mpi stack"
module-whatis "Version: 1.0.7"
set mpich2_mxHome /opt/mpich2_mx
prepend-path PATH $mpich2_mxHome/pgi/bin
prepend-path LD_LIBRARY_PATH $mpich2_mxHome/pgi/lib
</file>

<file name="/opt/modulefiles/mpi/.gnu/mpich2_mx/.version" perms="0644">
#%Module1.0
set ModulesVersion "1.0.7"
</file>
<file name="/opt/modulefiles/mpi/.intel/mpich2_mx/.version" perms="0644">
#%Module1.0
set ModulesVersion "1.0.7"
</file>
<file name="/opt/modulefiles/mpi/.pgi/mpich2_mx/.version" perms="0644">
#%Module1.0
set ModulesVersion "1.0.7"
</file>

/bin/ln -s /opt/modulefiles/mpi/.gnu/mpich2_mx/.version.1.0.7 \
           /opt/modulefiles/mpi/.gnu/mpich2_mx/.version
/bin/ln -s /opt/modulefiles/mpi/.intel/mpich2_mx/.version.1.0.7 \
           /opt/modulefiles/mpi/.intel/mpich2_mx/.version
/bin/ln -s /opt/modulefiles/mpi/.pgi/mpich2_mx/.version.1.0.7 \
           /opt/modulefiles/mpi/.pgi/mpich2_mx/.version

# OPENMPI

export version=1.3.3
/bin/mkdir -m 0755 -p /opt/modulefiles/mpi/.gnu/openmpi_mx
/bin/mkdir -m 0755 -p /opt/modulefiles/mpi/.intel/openmpi_mx
/bin/mkdir -m 0755 -p /opt/modulefiles/mpi/.pgi/openmpi_mx

<file name="/opt/modulefiles/mpi/.gnu/openmpi_mx/1.3.3" perms="0644">
#%Module1.0
module-whatis "openmpi_mx mpi stack"
module-whatis "Version: 1.3.3"
set openmpi_mxHome /opt/openmpi_mx
prepend-path PATH $openmpi_mxHome/gnu/bin
prepend-path LD_LIBRARY_PATH $openmpi_mxHome/gnu/lib
</file>
<file name="/opt/modulefiles/mpi/.intel/openmpi_mx/1.3.3" perms="0644">
#%Module1.0
module-whatis "openmpi_mx mpi stack"
module-whatis "Version: 1.3.3"
set openmpi_mxHome /opt/openmpi_mx
prepend-path PATH $openmpi_mxHome/intel/bin
prepend-path LD_LIBRARY_PATH $openmpi_mxHome/intel/lib
</file>
<file name="/opt/modulefiles/mpi/.pgi/openmpi_mx/1.3.3" perms="0644">
#%Module1.0
module-whatis "openmpi_mx mpi stack"
module-whatis "Version: 1.3.3"
set openmpi_mxHome /opt/openmpi_mx
prepend-path PATH $openmpi_mxHome/pgi/bin
prepend-path LD_LIBRARY_PATH $openmpi_mxHome/pgi/lib
</file>

<file name="/opt/modulefiles/mpi/.gnu/openmpi_mx/.version.1.3.3" perms="0644">
#%Module1.0
set ModulesVersion "1.3.3"
</file>
<file name="/opt/modulefiles/mpi/.intel/openmpi_mx/.version.1.3.3" perms="0644">
#%Module1.0
set ModulesVersion "1.3.3"
</file>
<file name="/opt/modulefiles/mpi/.pgi/openmpi_mx/.version.1.3.3" perms="0644">
#%Module1.0
set ModulesVersion "1.3.3"
</file>

/bin/ln -s /opt/modulefiles/mpi/.gnu/openmpi_mx/.version.1.3.3 \
           /opt/modulefiles/mpi/.gnu/openmpi_mx/.version
/bin/ln -s /opt/modulefiles/mpi/.intel/openmpi_mx/.version.1.3.3 \
           /opt/modulefiles/mpi/.intel/openmpi_mx/.version
/bin/ln -s /opt/modulefiles/mpi/.pgi/openmpi_mx/.version.1.3.3 \
           /opt/modulefiles/mpi/.pgi/openmpi_mx/.version

</post>

</kickstart>
